<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>BlueNRG-1,2 Development kits (STSW-BLUENRG1-DK): Release Notes 2.2.0/ 07-October-2016 (BLE stack v1.0a)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="STcustom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ST-logo-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BlueNRG-1,2 Development kits (STSW-BLUENRG1-DK)
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Release Notes 2.2.0/ 07-October-2016 (BLE stack v1.0a) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="S1"></a>
New Features/Changes</h1>
<p>This section lists the new features/changes compared to previous BlueNRG-1 DK release: <br />
</p>
<ul>
<li>BlueNRG-1 Bluetooth Low Energy (BLE) Stack binary libraries v1.0a: <ul>
<li>
IAR, EWARM for ARM library: bluenrg1_stack_lib.a </li>
<li>
Keil, MDK-ARM library: bluenrg1_stack_lib_keil.lib </li>
<li>
Atollic, TrueStudio library: libbluenrg1_stack_lib_atollic.a </li>
</ul>
</li>
<li>Added BlueNRG-1 Master/Central library supporting BLE discovery procedures and related html documentation. </li>
<li>Added BLE SensorDemo Central demonstration application which emulates the Sensor Demo applications available for smartphones (iOS and android). </li>
<li>Added ADC example for PDM stream processor from a MEMS microphone to UART </li>
<li>Added ADC DMA example </li>
<li>Added sleep management support to OTA Service Manager application </li>
<li>Updated OTA Reset manager and Service Manager applications </li>
<li>Updated BlueNRG-1 DTM application version to 1.6 </li>
<li>Updated USB to Serial DFU fw version to 1.6 </li>
<li>NOTES: <ul>
<li>
<b> Before using a STEVAL-IDB007V1 platform, align the USB to Serial DFU fw to the latest available version (v1.6) </b>: <ul>
<li>
In order to update the STEVAL-IDB007V1 USB-to-SERIAL firmware version, the procedure provided on STEVAL-IDB007V1 USB to Serial DFU FW upgrade document must be addressed. </li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="S11"></a>
Navigator PC applications</h2>
<ul>
<li>
BlueNRG-1 Navigator 2.2.0 supporting BlueNRG-1 device.</li>
</ul>
<h2><a class="anchor" id="S12"></a>
Flasher PC application</h2>
<ul>
<li>
BlueNRG-1 Flasher 2.2.0 supporting BlueNRG-1 device.</li>
</ul>
<h1><a class="anchor" id="S2"></a>
Solved Issues</h1>
<p>This section lists the solved issues compared to previous BlueNRG-1 DK release: <br />
</p>
<ul>
<li>ID 1468: OTA_Service_Manager cannot be used in low power mode </li>
<li>ID 2095: Atollic DTM SPI configuration doesn't work properly </li>
<li>ID 2283: Wrong references to BlueNRG-MS device in BlueNRG-1 BLE stack files </li>
<li>ID 2377: Crystal selection DTM UART </li>
<li>ID 2639: Hardware Activation of DTM Updater (v1.7, SPI mode) has been disabled.</li>
</ul>
<h1><a class="anchor" id="S3"></a>
SW Package Contents</h1>
<ul>
<li>
BlueNRG-1 Bluetooth Low Energy (BLE) stack binary library and header files </li>
<li>
BlueNRG-1 Bluetooth Low Energy (BLE) network coprocessor (SPI and UART mode) reference application (DTM)  </li>
<li>
BlueNRG-1 Bluetooth Low Energy stack APIs and events callbacks html documentation </li>
<li>
BlueNRG-1 Master/Central library APIs and html documentation </li>
<li>
BlueNRG-1 Bluetooth Low Energy demonstration applications (header, sources and toolchains projects) + html documentation </li>
<li>
BlueNRG-1 Bluetooth Low Energy demonstration applications prebuilt images </li>
<li>
BlueNRG-1 CMSIS files </li>
<li>
BlueNRG-1 peripherals drivers + html documentation </li>
<li>
BlueNRG-1 peripherals drivers examples (header, sources and toolchains projects) + html documentation </li>
<li>
BlueNRG-1 peripherals drivers examples prebuilt images </li>
<li>
BlueNRG-1 SDK and HAL drivers + html documentation </li>
<li>
BlueNRG-1 network coprocessor SPI protocol specification html document  </li>
<li>
Drivers for PC (USB Virtual COM) </li>
<li>
BlueNRG-1 Navigator PC application:  <ul>
<li>
It provides an interactive, simple and user friendly interface to the resources available within the BlueNRG-1 DK SW package: <ul>
<li>
BlueNRG-1 Bluetooth Low Energy (BLE) Demonstration Applications </li>
<li>
BlueNRG-1 Peripherals Drivers Examples </li>
<li>
BlueNRG-1 Development Kits </li>
<li>
Release Notes </li>
<li>
License Files</li>
</ul>
</li>
</ul>
</li>
<li>
BlueNRG-1 Flasher Utility PC application .  <ul>
<li>
It allows the BlueNRG-1 programming using the UART bootloader. </li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="S31"></a>
Bluetooth Low Energy (BLE) demonstration applications</h2>
<ul>
<li>
The following BLE examples applications are available: <ol>
<li>
<b>BLE Beacon </b> application: <ul>
<li>
Projects supporting BlueNRG-1 Development Kits (workspaces: Release, Use_OTA_ServiceManager).</li>
</ul>
</li>
<li>
<b>BLE Chat </b> application: <ul>
<li>
Projects supporting BlueNRG-1 Development Kits (workspaces: Client, Server, Server Lower &amp; Higher with OTA, Server with OTA Service Manager).</li>
</ul>
</li>
<li>
<b>BLE Chat Master &amp; Slave</b> application: <ul>
<li>
Projects supporting BlueNRG-1 Development Kits (workspace: Release). </li>
</ul>
</li>
<li>
<b>BLE OTA Reset Manager </b> applications: <ul>
<li>
Projects supporting BlueNRG-1 Development Kits (workspaces: Release, ServiceManager).</li>
</ul>
</li>
<li>
<b>BLE HID/HOGP Mouse and Keyboard</b> applications: <ul>
<li>
Projects supporting BlueNRG-1 Development Kits (workspaces: HID_Keyboard, HID_Mouse). </li>
</ul>
</li>
<li>
<b>BLE Remote Control </b>example: <ul>
<li>
Projects supporting BlueNRG-1 Development Kits (workspaces: Release).</li>
</ul>
</li>
<li>
<b>BLE Sensor Demo </b>application with acceleration and environmental sensors values (temperature &amp; pressure): <ul>
<li>
Projects supporting BlueNRG-1 Development Kits (workspaces: Release, Lower &amp; Higher with OTA, Use OTA Service Manager).</li>
</ul>
</li>
<li>
<b>BLE Sensor Demo Central </b> which emulates the Sensor Demo applications available for smartphones (iOS and android): <ul>
<li>
Projects supporting BlueNRG-1 Development Kits (workspace: Release.</li>
</ul>
</li>
<li>
<b>BLE Throughput </b> application: <ul>
<li>
Projects supporting BlueNRG-1 Development Kits (workspaces: Client &amp; Server unidirectional throughput, Client &amp; Server bidirectional throughput).</li>
</ul>
</li>
<li>
<b>BLE ANCS </b> application supporting the notification consumer profile role: <ul>
<li>
Projects supporting BlueNRG-1 Development Kits (workspace: Release).</li>
</ul>
</li>
</ol>
</li>
</ul>
<h2><a class="anchor" id="S32"></a>
Bluetooth Low Energy (BLE) network coprocessor</h2>
<ul>
<li><b>DTM v1.6</b> application for network coprocessor mode (UART or SPI): <ul>
<li>
It supports network coprocessor configurations: UART (16MHz or 32MHz) and SPI. </li>
<li>
Projects supporting BlueNRG-1 Development Kits (workspaces: Release_SPI, Release_UART_16MHz, Release_UART_32MHz,Release_SPI_noboot,Release_UART_16MHz_noboot, Release_UART_32MHz_noboot). </li>
</ul>
</li>
</ul>
<ul>
<li><b>NOTES </b>: <ul>
<li>
<b> Before using a STEVAL-IDB007V1 platform as network coprocessor (UART or DTM), upgrade the DTM application to the latest available version (v1.6) </b>. <ul>
<li>
Prebuilt DTM binary images (DTM_SPI.hex, DTM_UART_16MHz.hex, DTM_UART_32MHz.hex) are available on Firmware//BLE_Examples/DTM folder and can be downloaded using the BlueNRG-1 Navigator or Flasher tool. </li>
</ul>
<ul>
<li>
The workspaces Release_SPI, Release_UART_16MHz, Release_UART_32MHz also include the bootloader/updater code which allows to upgrade the network coprocessor code with new FW versions using the BlueNRG GUI, Tools, BlueNRG Updater .... utility. </li>
<li>
The Release_SPI_noboot,Release_UART_16MHz_noboot, Release_UART_32MHz_noboot workspaces allow to build the DTM binary files to be used with the BlueNRG GUI, Tools, BlueNRG Updater .... utility provided the BlueNRG-1 kit is already configured as network coprocessor mode. </li>
<li>
Release_UART_16MHz is the network coprocessor UART configuration to be used for the BlueNRG-1 platform STEVAL-IDB007V1 (BlueNRG-1 DIO8 pin for UART TX and DIO11 pin for UART RX). </li>
<li>
The SPI network coprocessor configuration requires some HW changes on BlueNRG-1 platform STEVAL-IDB007V1 (refer to the SPI protocol specification document which also describes the required BlueNRG-1 SPI lines). </li>
<li>
The BlueNRG GUI, Tools, BlueNRG Updater .... utility allows to upgrade only the Release_SPI_noboot,Release_UART_16MHz_noboot, Release_UART_32MHz_noboot DTM binary files. </li>
<li>
BlueNRG GUI PC application supporting BlueNRG-1 network coprocessor with updated DTM FW v1.6 is provided within the STSW-BNRGUI SW package v2.2.0 or later. </li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="S33"></a>
Peripheral drivers examples</h2>
<ul>
<li>
<p class="startli">The following Peripherals Drivers examples are available: </p><ol>
<li>
<b>ADC </b>examples: <ol>
<li>
DMA </li>
<li>
PDM </li>
<li>
Polling </li>
</ol>
</li>
<li>
<b>GPIO </b>examples: <ol>
<li>
Input Interrupt </li>
<li>
IO Toggle </li>
<li>
IO Wakeup </li>
</ol>
</li>
<li>
<b>I2C </b> examples:<ol>
<li>
Master Polling </li>
<li>
Master Sensor (Dma, Polling &amp; Interrupt) </li>
<li>
Slave Polling </li>
<li>
Master DMA </li>
<li>
Slave DMA </li>
</ol>
</li>
<li>
<b>MFT </b>examples: <ol>
<li>
Mode 1 </li>
<li>
Mode 1a </li>
<li>
Mode 2 </li>
<li>
Mode 3 </li>
<li>
Mode 4 </li>
</ol>
</li>
<li>
<b>Micro </b>examples: <ol>
<li>
Hello World </li>
<li>
Sleep test</li>
</ol>
</li>
<li>
<b>RTC </b>examples: <ol>
<li>
Clock watch </li>
<li>
Time Base </li>
<li>
Time Base Pattern</li>
</ol>
</li>
<li>
<b>SPI </b> examples:<ol>
<li>
Master Polling </li>
<li>
Master Sensor (Dma, Polling &amp; Interrupt) </li>
<li>
Slave Polling</li>
</ol>
</li>
<li>
<b>SysTick </b>examples: <ol>
<li>
Time Base</li>
</ol>
</li>
<li>
<b>UART </b>examples: <ol>
<li>
Dma </li>
<li>
Interrupt </li>
<li>
Polling </li>
</ol>
</li>
<li>
<b>WDG </b>examples: <ol>
<li>
Reset </li>
<li>
Wakeup</li>
</ol>
</li>
</ol>
<p class="endli"></p>
</li>
</ul>
<h1><a class="anchor" id="S4"></a>
Development Toolchains</h1>
<ul>
<li>
IAR Embedded Workbench for ARM (EWARM) toolchain V7.70 or later </li>
<li>
NOTES: <ul>
<li>
IAR EWARM 7.40.3 version can be used: user is requested to install the Utility\EWARM_BlueNRG-1_Flasher.exe under the EWARM 7.40.3 installation folder. </li>
</ul>
</li>
</ul>
<ul>
<li>
Keil uVision V5 (MDK-ARM) toolchain V5.17 </li>
<li>
NOTES: <ul>
<li>
User is requested to install the BlueNRG-1 Keil, MDK-ARM support files (Pack). It is provided on Utility folder (Keil.STBlueNRG-1_DFP.0.0.1.pack) </li>
</ul>
</li>
</ul>
<ul>
<li>
Atollic TrueStudio for ARM (GCC) toolchain V5.40 </li>
<li>
NOTES: <ul>
<li>
BlueNRG-1 flasher is not yet available: BlueNRG-1 Flasher PC application can be used for downloading the built application. </li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="S5"></a>
Supported platforms</h1>
<ul>
<li>
STEVAL-IDB007V1 version 3 development kit (order code: STEVAL-IDB007V1) </li>
</ul>
<h1><a class="anchor" id="S6"></a>
Known problems and limitations</h1>
<p>This section lists the issues known at release time. Issues found after this release are listed as solved or limitations on newer releases:<br />
</p>
<ul>
<li>ID 2070: STEVAL-IDB007V1 version 3 max output power is +6dBm. </li>
<li>ID 2071: OTA framework is not supported when using Atollic, TrueStudio toolchain due to the limited optimization size of this toolchain, which doesn't fit with OTA framework memory layout. </li>
<li>ID 2089: If the DL2 led (BOOT pin) is high before the BlueNRG-1 goes to sleep, the pin level stays high (~2 V with 3.3 V of VDD). </li>
</ul>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Copyright &copy; 2021 by STMicrolectronics. All rights reserved.<br>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
